<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Affymetrix Power Tools: VIGNETTES: Using SNPolisher functionality in APT</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
             <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
             <li><a href="CHANGE.html"><span>Change&nbsp;Log</span></a></li>
             <li><a href="VIGNETTE.html"><span>Vignettes</span></a></li>
             <li><a href="FAQ.html"><span>FAQs</span></a></li>
             <li><a href="LICENSE.html"><span>License</span></a></li>
             <li><a href="FILE-FORMATS.html"><span>File Formats</span></a></li>
             <li><a href="PLATFORMS.html"><span>Platforms</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title"><h1>VIGNETTES: Using SNPolisher functionality in APT </h1></div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>2015-3-3</dd></dl>
<h1><a class="anchor" id="content"></a>
Contents</h1>
<ul>
<li><a href="#intro">Introduction</a></li>
<li><a href="#psmetrics">Ps Metrics</a></li>
<li><a href="#psclassification">Ps Classification</a></li>
<li><a href="#psclassificationsupplemental">Ps Classification Supplemental</a></li>
<li><a href="#otvcaller">OTV Caller</a></li>
</ul>
<p><a class="anchor" id="intro"></a> </p>
<h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>Four components of SNPolisher have been integrated into APT: ps-metrics, ps-classification, ps-classification-supplemental and otv-caller.</p>
<h1><a class="anchor" id="psmetrics"></a>
PS Metrics</h1>
<p><b>ps-metrics</b> is run using the posterior file and either a CHP file or on TXT a call file produced from an Axiom genotyping run. The following commands will create the metrics file. </p>
<pre class="fragment">  ps-metrics --posterior-file &lt;file&gt; --call-file &lt;file&gt; --metrics-file &lt;file output location&gt;
</pre><p> Or </p>
<pre class="fragment">  ps-metrics --posterior-file &lt;file&gt; --chp-files &lt;file&gt; --metrics-file &lt;file output location&gt;
</pre><h1><a class="anchor" id="psclassification"></a>
PS Classification</h1>
<p><b>ps-classification</b> is run using the output from <code>ps-metrics</code>. The user must specify the ploidy of the samples. To run <code>ps-classification</code> use the following command: </p>
<pre class="fragment">    ps-classification --species-type [human|polyploid|diploid] --metrics-file &lt;file&gt; --output-dir &lt;dir&gt; --ps2snp-file &lt;file&gt;
</pre><p>To change any of the default values of the thresholds the following optional parameters can be used. Please refer to the SNPolisher User Guide for more information on these metrics.</p>
<ul>
<li><em>cr-cutoff</em> = Threshold for call rate. Default is 95.0 for Human, 97.0 for Diploid or Polyploid.</li>
<li><em>fld-cutoff</em> = Threshold for FLD, default value: 3.60</li>
<li><em>het-so-cutoff</em> = Threshold for HetSO, default value: -0.10</li>
<li><em>het-so-otv-cutoff</em> = Threshold for HetSO OTV, default value: -0.30</li>
<li><em>hom-ro-1-cutoff</em> = Threshold for HomRO when SNP has 1 genotype, default value: 0.60</li>
<li><em>hom-ro-2-cutoff</em> = Threshold for HomRO when SNP has 2 genotypes, default value: 0.30</li>
<li><em>hom-ro-3-cutoff</em> = Threshold for HomRO when SNP has 3 genotypes, default value: -0.90</li>
<li><em>hom-ro</em> = True if HomRO metric to be used in classification</li>
<li><em>hom-het</em> = True if Hom Het metric to be used in classification</li>
<li><em>num-minor-allele-cutoff</em> = Threshold for number of minor alleles, default value: 2.0</li>
<li><em>priority-order</em> = Priority order of probeset conversion types when performing probeset selection, default value: PolyHighResolution, NoMinorHom, OTV, MonoHighResolution, CallRateBelowThreshold'</li>
</ul>
<h1><a class="anchor" id="psclassificationsupplemental"></a>
PS Classification Supplemental</h1>
<p><b>ps-classification-supplemental</b> implements additional filters that may be required for polyploidy organisms, those with highly repetitive or complex genomes, or for studying inbred populations. This application uses the output from <code>ps-classification</code>. Please refer to the SNPolisher user manual for more information on when to run <code>ps-classification-supplemental</code>. </p>
<pre class="fragment">  ps-classification-supplemental --performance-file &lt;file&gt; --summary-file &lt;file&gt;  --call-file &lt;file&gt; --posterior-file &lt;file&gt; --output-dir &lt;dir&gt;
</pre><p> OR </p>
<pre class="fragment">  ps-classification-supplemental --suitcase-file &lt;file&gt; --output-dir &lt;dir&gt; 
</pre><h1><a class="anchor" id="otvcaller"></a>
OTV Caller</h1>
<p><b>otv-caller</b> identifies Off Target Variants in genotyping data and updates the genotyping call to OTV for any samples that are placed in the OTV cluster. <code>otv-caller</code> can be run by specifying text files generated by<code>ps-classification</code> and <code>ps-metrics</code>, or by specifying an output directory generated by the Axiom Analysis Suite. Note that otv-caller can take any input list of probesets (pid file), and that the otv.ps file generated by ps-classification contains a list of probesets with clusters that may be OTV and which should be used with otv-caller. </p>
<pre class="fragment">  otv-caller --pid-file &lt;file&gt; --summary-file &lt;file&gt; --posterior-file &lt;file&gt; --call-file &lt;file&gt; --confidence-file &lt;file&gt; --output-dir &lt;dir&gt; 
</pre><p> OR </p>
<pre class="fragment">  otv-caller --pid-file &lt;file&gt; --batch-folder &lt;dir&gt; --output-dir &lt;dir&gt;
</pre><p> OR </p>
<pre class="fragment">  otv-caller --pid-file &lt;file&gt; --posterior-file &lt;file&gt; --batch-folder &lt;dir&gt; --output-dir &lt;dir&gt;
</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated for Affymetrix Power Tools by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
